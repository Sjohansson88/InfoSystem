@model IEnumerable<InfoSystem.Models.Event>
@{
    var recentDrivers = ViewBag.RecentDrivers as IEnumerable<InfoSystem.Models.Driver>;
}

<h1>Notifications for Recent Events</h1>

@if (Model != null && Model.Any())
{
    <h2>Recent Events</h2>
    <table>
        <thead>
            <tr>
                <th>Driver</th>
                <th>Description</th>
                <th>Date</th>
                <th>Amount In</th>
                <th>Amount Out</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var eventItem in Model)
            {
                <tr>
                    <td>@eventItem.Driver?.DriverName</td>
                    <td>@eventItem.NoteDescription</td>
                    <td>@eventItem.NoteDate.ToString("g")</td>
                    <td>@eventItem.BeloppIn</td>
                    <td>@eventItem.BeloppUt</td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No recent events found.</p>
}
<br />
@if (recentDrivers != null && recentDrivers.Any())
{
    <h2>Recent Driver Changes</h2>
    <table>
        <thead>
            <tr>
                <th>Driver Name</th>
                <th>Car Reg</th>
                <th>Last Updated</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var driver in recentDrivers)
            {
                <tr>
                    <td>@driver.DriverName</td>
                    <td>@driver.CarReg</td>
                    <td>@driver.NoteDate.ToString("g")</td> 
                    @* <td>@driver.ActionType</td> *@
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>No recent driver changes found.</p>
}
